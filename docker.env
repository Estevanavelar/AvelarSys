# ========================================
# AvelarSys - Environment Variables
# ========================================
# Configurado para usar Supabase Self-Hosted
# Portas fixas conforme PORTS.md

# === PORTAS (NAO ALTERAR) ===
# Importar configurações de portas do ports.env
APP_PORTAL_PORT=3000
AVADMIN_FRONTEND_PORT=3001
STOCKTECH_FRONTEND_PORT=3002
AVADMIN_BACKEND_PORT=8000
STOCKTECH_BACKEND_PORT=8002
WPPCONNECT_PORT=8003
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443
POSTGRES_PORT=5433
REDIS_PORT=6379

# === SUPABASE (EXTERNO) ===
# Configuração do Supabase Self-Hosted (já rodando externamente)
SUPABASE_DB_HOST=host.docker.internal
SUPABASE_DB_PORT=5433
SUPABASE_DB_NAME=postgres
SUPABASE_DB_USER=postgres
SUPABASE_DB_PASSWORD=77bfbc034480395c92c0e19d94cda932d2726dd87fd7b0c56e5e68ce68d99dcc
SUPABASE_JWT_SECRET=7e8b3e0b9569e981108237b28f79e689484de500f9505ed3d93c60e7657f00c5
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlzcyI6InN1cGFiYXNlLWRlbW8iLCJpYXQiOjE3Njg1MjI2MTMsImV4cCI6MTc5OTUzNTYwMH0.8LSlEcDEhqrVYSElo4yiTlQzSTBxkme1TAujluKx9LA
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoic2VydmljZV9yb2xlIiwiaXNzIjoic3VwYWJhc2UtZGVtbyIsImlhdCI6MTc2ODUyMjYxMywiZXhwIjoxNzk5NTM1NjAwfQ.uvVvMMMpWQH7qgI5PHmfsvtsq_SLo-XQ1OBB65AQAfU
SUPABASE_URL=http://supabase-kong:8000
SUPABASE_PUBLIC_URL=https://banco.avelarcompany.dev.br
SUPABASE_STORAGE_BUCKET=public

# === AVADMIN CONFIGURATION ===
# AvAdmin + Auth centralizado no Neon (produção e dev)
NEON_DATABASE_URL=postgresql+asyncpg://neondb_owner:npg_pY5C0lHhARfx@ep-muddy-bread-acs8josc-pooler.sa-east-1.aws.neon.tech/neondb?ssl=require
AVADMIN_DATABASE_URL=${NEON_DATABASE_URL}
AVADMIN_SECRET_KEY=django-insecure-change-this-in-production-123456789
AVADMIN_DEBUG=0
AVADMIN_ALLOWED_HOSTS=localhost,127.0.0.1,avadmin-backend,nginx
AVADMIN_PORT=8000
AVADMIN_NEXT_PUBLIC_API_URL=http://localhost:8000

# === STOCKTECH CONFIGURATION ===
STOCKTECH_DATABASE_URL=postgresql://postgres:77bfbc034480395c92c0e19d94cda932d2726dd87fd7b0c56e5e68ce68d99dcc@host.docker.internal:5433/postgres?sslmode=disable
JWT_SECRET=7e8b3e0b9569e981108237b28f79e689484de500f9505ed3d93c60e7657f00c5
NODE_ENV=production
PORT=3000
AVADMIN_API_URL=http://avadmin-backend:8000
VITE_WS_URL=wss://stocktech.avelarcompany.com.br/ws

# === WPPCONNECT CONFIGURATION ===
WPP_PORT=8003
WPP_SESSION=avelar-session
WPP_SECRET=avelar-wpp-secret
WEBHOOK_URL=http://avadmin-backend:8000/api/whatsapp/webhook

# === APP PORTAL CONFIGURATION ===
NEXT_PUBLIC_AVADMIN_URL=http://avadmin-frontend:3000
NEXT_PUBLIC_STOCKTECH_URL=http://stocktech-frontend:3000
NEXT_PUBLIC_API_URL=https://avadmin.avelarcompany.com.br
NEXT_PUBLIC_SUPABASE_URL=https://banco.avelarcompany.dev.br
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlzcyI6InN1cGFiYXNlLWRlbW8iLCJpYXQiOjE3Njg1MjI2MTMsImV4cCI6MTc5OTUzNTYwMH0.8LSlEcDEhqrVYSElo4yiTlQzSTBxkme1TAujluKx9LA
VITE_SUPABASE_URL=https://banco.avelarcompany.dev.br
VITE_SUPABASE_PUBLIC_URL=https://banco.avelarcompany.dev.br
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlzcyI6InN1cGFiYXNlLWRlbW8iLCJpYXQiOjE3Njg1MjI2MTMsImV4cCI6MTc5OTUzNTYwMH0.8LSlEcDEhqrVYSElo4yiTlQzSTBxkme1TAujluKx9LA
VITE_SUPABASE_STORAGE_BUCKET=public
NEXT_PUBLIC_WS_URL=wss://stocktech.avelarcompany.com.br/ws

# === INTERNAL URLS (Docker Network) ===
# URLs para comunicação entre containers
AVADMIN_API_URL=http://avadmin-backend:8000
STOCKTECH_API_URL=http://stocktech-backend:3000
WPPCONNECT_URL=http://wppconnect:8003

# === FEATURE FLAGS ===
ENABLE_WEBSOCKET=true
ENABLE_NOTIFICATIONS=true
ENABLE_ANALYTICS=false
ENABLE_CACHE=true

# === PERFORMANCE LIMITS ===
MAX_FILE_SIZE=10485760
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=900000

# === LOGGING ===
LOG_LEVEL=info
LOG_FORMAT=json

# === CORS CONFIGURATION ===
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:3002,http://localhost:3004,https://app.avelarcompany.com.br,https://avadmin.avelarcompany.com.br,https://stocktech.avelarcompany.com.br,https://axcellos.avelarcompany.com.br